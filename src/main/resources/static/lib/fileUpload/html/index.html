<!DOCTYPE html>
<!-- release v4.5.2, copyright 2014 - 2018 Kartik Visweswaran -->
<!--suppress JSUnresolvedLibraryURL -->
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" crossorigin="anonymous">
    <link href="../css/fileinput.css" media="all" rel="stylesheet" type="text/css"/>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" crossorigin="anonymous">
    <link href="../themes/explorer-fas/theme.css" media="all" rel="stylesheet" type="text/css"/>
    <script src="https://code.jquery.com/jquery-3.3.1.min.js" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
    <script src="../js/plugins/sortable.js" type="text/javascript"></script>
    <script src="../js/fileinput.js" type="text/javascript"></script>
    <script src="../js/locales/zh-TW.js" type="text/javascript"></script>
    <script src="../js/locales/zh.js" type="text/javascript"></script>
    <script src="../themes/fas/theme.js" type="text/javascript"></script>
    <script src="../themes/explorer-fas/theme.js" type="text/javascript"></script>
</head>
<body>
<div class="container my-4">
    <form enctype="multipart/form-data">
        <div class="file-loading">
            <input id="kv-explorer" type="file" multiple>
        </div>
    </form>
</div>
</body>
<script>
    $(document).ready(function () {
        $(function () {
            initFileInput("kv-explorer");
        })
        function initFileInput(ctrlName) {
            var control = $('#' + ctrlName);
            control.fileinput({
                'theme': 'explorer-fas',
                'uploadUrl': 'uploads/',
                language: 'zh',
                showPreview :true, //是否显示预览
                hideThumbnailContent: true,
                'allowedFileExtensions': ['jpg', 'png', 'gif','jpeg','mp4','zip','mov','docx','pdf','xlsx'],//上传类型
                'elErrorContainer': '#errorBlock',//是否显示上传错误信息
                overwriteInitial: false,
                initialPreviewAsData: true,
                maxFileSize:20480,// 单位为kb，如果为0表示不限制文件大小
                maxFileCount:10, //表示允许同时上传的最大文件个数
                uploadUrl:"uploads/", //上传的地址
                layoutTemplates:{
                    actionZoom: '',
                    actionUpload: ''
                }
            }).on('filepreupload', function(event, data, previewId, index) {     //上传中
                // var form = data.form, files = data.files, extra = data.extra,
                //     response = data.response, reader = data.reader;
                console.log(data.filenames)
                console.log(data.files)
                console.log('文件正在上传');
            }).on("fileuploaded", function (event, data, previewId, index) {    //一个文件上传成功
                console.log('文件上传成功！'+data.id);

            }).on('fileerror', function(event, data, msg) {  //一个文件上传失败
                console.log('文件上传失败！'+data.id);


            })
        }
    });

</script>
</html>
